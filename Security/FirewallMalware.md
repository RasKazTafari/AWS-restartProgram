**280-\[SF\]-Lab - Firewall Malware**

**Task 1: Confirm Reachability**

The next step replicates how an end user would download a malicious file
using a web browser. This action is simulated using the **wget** command
on the malicious files in the command line.

![image alt](https://github.com/RasKazTafari/AWS-restartProgram/blob/main/Project%206_Security/Confirm.png)

**Task 2: Inspect the network firewall**

Updating the firewall

![image alt](https://github.com/RasKazTafari/AWS-restartProgram/blob/main/Project%206_Security/Inspect.png)

These settings now forward all packets to a stateful rule group for
further inspection.

**Task 3: Create a firewall rule group**

In this task, you create a network firewall rule group with rules that
block access to the malicious URLs. You later attach this rule group to
your firewall policy.

![image alt](https://github.com/RasKazTafari/AWS-restartProgram/blob/main/Project%206_Security/RuleGroupType.png)

![image alt](https://github.com/RasKazTafari/AWS-restartProgram/blob/main/Project%206_Security/DescribeRule.png)

Intrusion prevention system (IPS) rules
provide advanced firewall rules using Suricata rule syntax. Suricata is
an open-source network IPS that includes a standard rule-based language
for traffic inspection.

![image alt](https://github.com/RasKazTafari/AWS-restartProgram/blob/main/Project%206_Security/Suricata.png)

The two Suricata rules that you added now
block traffic that matches the **http_uri contents
/data/js_crypto_miner.html** and **http_uri contents
/data/js_crypto_miner.html** URLs when the traffic is initiated from the
**LabVPC** to the public network.

**Task 4: Attach a rule group to the network firewall**

![image alt](https://github.com/RasKazTafari/AWS-restartProgram/blob/main/Project%206_Security/Attach%20a%20rule%20group.png)


**Task 5: Validate the solution**

To try and access the first malicious file, run the following wget
command.

![image alt](https://github.com/RasKazTafari/AWS-restartProgram/blob/main/Project%206_Security/Validate%20the%20solution%20.png)

This output shows that the malware site and file are no longer
accessible and have been successfully blocked by the network firewall.

To test access to the other malicious URL, run the following command:

![image alt](https://github.com/RasKazTafari/AWS-restartProgram/blob/main/Project%206_Security/Malicious%20URL.png)

Next, to remove the test malware files, run the following command:

rm java_jre17_exec.html js_crypto_miner.html

confirm the files were deleted:

![image alt](https://github.com/RasKazTafari/AWS-restartProgram/blob/main/Project%206_Security/Confirm.png)
